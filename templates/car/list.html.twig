{% extends 'base.html.twig' %}

{% block title %}Liste des voitures
{% endblock %}

{% block body %}
	{% for label, messages in app.flashes %}
		{% for message in messages %}
			<div class="alert alert-{{ label }} mb-3" role="alert">
				{{ message }}
			</div>
		{% endfor %}
	{% endfor %}

	<div class="container mt-4">
		<div class="d-flex align-items-center justify-content-between mb-3">
			<h1 class="mb-0">Voitures</h1>

			{% if is_granted('ROLE_ADMIN') %}
				<a class="btn btn-primary" href="{{ path('car_create', { redirect: 'car_list' }) }}">Cr√©er</a>
			{% endif %}
		</div>

		{% include 'car/_list_filters.html.twig' with { form: form } only %}
		{% include 'car/_list_table.html.twig' with { cars: cars } only %}
	</div>
{% endblock %}

{% block javascripts %}
	{{ parent() }}
	<script src="/js/car-list.js"></script>
{% endblock %}
